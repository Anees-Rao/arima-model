const { arimaModule: ARIMA } = require("moving-average-arima");

const data = [
    { date: "1/2010", value: 6071 },
    { date: "1/2011", value: 5991 },
    { date: "1/2012", value: 7136 },
    { date: "1/2013", value: 8450 },
    { date: "1/2014", value: 7811 },
    { date: "1/2015", value: 9605 },
    { date: "1/2016", value: 9133 },
    { date: "2/2010", value: 4805 },
    { date: "2/2011", value: 6353 },
    { date: "2/2012", value: 9247 },
    { date: "2/2013", value: 6547 },
    { date: "2/2014", value: 8803 },
    { date: "2/2015", value: 7111 },
    { date: "2/2016", value: 7962 },
    { date: "3/2010", value: 7557 },
    { date: "3/2011", value: 8024 },
    { date: "3/2012", value: 9629 },
    { date: "3/2013", value: 9099 },
    { date: "3/2014", value: 10064 },
    { date: "3/2015", value: 9782 },
    { date: "3/2016", value: 10416 },
    { date: "4/2010", value: 6628 },
    { date: "4/2011", value: 7508 },
    { date: "4/2012", value: 8734 },
    { date: "4/2013", value: 8571 },
    { date: "4/2014", value: 9414 },
    { date: "4/2015", value: 8431 },
    { date: "4/2016", value: 9467 },
    { date: "5/2010", value: 6944 },
    { date: "5/2011", value: 7771 },
    { date: "5/2012", value: 9492 },
    { date: "5/2013", value: 9389 },
    { date: "5/2014", value: 9877 },
    { date: "5/2015", value: 8706 },
    { date: "5/2016", value: 9600 },
    { date: "6/2010", value: 6556 },
    { date: "6/2011", value: 7372 },
    { date: "6/2012", value: 7889 },
    { date: "6/2013", value: 7642 },
    { date: "6/2014", value: 9867 },
    { date: "6/2015", value: 8857 },
    { date: "6/2016", value: 8644 },
    { date: "7/2010", value: 6979 },
    { date: "7/2011", value: 7460 },
    { date: "7/2012", value: 8450 },
    { date: "7/2013", value: 9281 },
    { date: "7/2014", value: 10297 },
    { date: "7/2015", value: 9311 },
    { date: "7/2016", value: 8933 },
    { date: "8/2010", value: 6359 },
    { date: "8/2011", value: 7444 },
    { date: "8/2012", value: 6772 },
    { date: "8/2013", value: 8317 },
    { date: "8/2014", value: 9297 },
    { date: "8/2015", value: 8643 },
    { date: "8/2016", value: 9119 },
    { date: "9/2010", value: 6124 },
    { date: "9/2011", value: 6956 },
    { date: "9/2012", value: 5794 },
    { date: "9/2013", value: 8346 },
    { date: "9/2014", value: 9413 },
    { date: "9/2015", value: 9769 },
    { date: "9/2016", value: 8838 },
    { date: "10/2010", value: 6657 },
    { date: "10/2011", value: 7736 },
    { date: "10/2012", value: 6767 },
    { date: "10/2013", value: 9291 },
    { date: "10/2014", value: 9769 },
    { date: "10/2015", value: 8906 },
    { date: "10/2016", value: 9188 },
    { date: "11/2010", value: 7092 },
    { date: "11/2011", value: 8402 },
    { date: "11/2012", value: 7614 },
    { date: "11/2013", value: 9059 },
    { date: "11/2014", value: 9327 },
    { date: "11/2015", value: 9435 },
    { date: "12/2010", value: 6342 },
    { date: "12/2011", value: 8072 },
    { date: "12/2012", value: 7632 },
    { date: "12/2013", value: 8970 },
    { date: "12/2014", value: 9243 },
    { date: "12/2015", value: 8986 },
  ];
  // Extract time series data
  const ts = data.map(entry => entry.value);


  const sarima =new ARIMA({
    p: 1,  
    d: 1,  
    q: 1, 
    P: 1, 
    D: 1, 
    Q: 1, 
    s: 12,
    verbose: true
  }).train(ts);
  
  // Predict the next 12 values
  const [futurePredictions, errors] = sarima.predict(12);
  console.log("Future Predictions:", futurePredictions);
  console.log("errors:", errors);
  
  